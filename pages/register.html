<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#003060">
    <title>MatchU - 註冊</title>

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>💖</text></svg>">

    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/variables.css">
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/components.css">

    <link rel="stylesheet" href="../css/pages/register.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

            <!-- Step Indicator -->
            <div class="step-indicator">
                <div class="step-dot active" data-step="1"></div>
                <div class="step-dot" data-step="2"></div>
                <div class="step-dot" data-step="3"></div>
                <div class="step-dot" data-step="4"></div>
                <div class="step-dot" data-step="5"></div>
            </div>

            <!-- Step 1: Email Verification -->
            <div class="register-step active" id="step1">
                <div class="step-icon">✉️</div>
                <h2 class="step-title">使用台大信箱註冊</h2>
                <p class="step-subtitle">僅限 @ntu.edu.tw 信箱</p>

                <form id="emailForm">
                    <div class="form-group">
                        <label class="form-label">台大信箱</label>
                        <input
                            type="email"
                            class="form-input"
                            id="email"
                            placeholder="例如: r12345678@ntu.edu.tw"
                            required
                        >
                        <div class="form-error" id="emailError">請輸入有效的台大信箱</div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">
                        發送驗證碼
                    </button>
                </form>

                <div class="text-center mt-lg">
                    <button class="btn btn-text" onclick="window.location.href='../index.html'">
                        返回首頁
                    </button>
                </div>
            </div>

            <!-- Step 2: Verification Code -->
            <div class="register-step" id="step2">
                <div class="step-icon">📧</div>
                <h2 class="step-title">輸入驗證碼</h2>
                <p class="step-subtitle">驗證碼已發送至<br><strong id="emailDisplay"></strong></p>

                <div class="verification-code">
                    <input type="text" class="code-input" maxlength="1" data-index="0">
                    <input type="text" class="code-input" maxlength="1" data-index="1">
                    <input type="text" class="code-input" maxlength="1" data-index="2">
                    <input type="text" class="code-input" maxlength="1" data-index="3">
                </div>

                <div class="resend-timer">
                    <span id="timer">60秒後可重發</span>
                </div>

                <button class="btn btn-primary btn-block" id="verifyBtn">
                    確認
                </button>
            </div>

            <!-- Step 3: Basic Info -->
            <div class="register-step" id="step3">
                <div class="step-icon">👤</div>
                <h2 class="step-title">完善個人資料</h2>
                <p class="step-subtitle">步驟 1/3</p>

                <form id="basicInfoForm">
                    <div class="form-group">
                        <label class="form-label">姓名</label>
                        <input type="text" class="form-input" id="name" placeholder="請輸入真實姓名" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">性別</label>
                        <div class="gender-select">
                            <div class="gender-option" data-gender="male">
                                <div style="font-size: 32px;">♂</div>
                                <div>男生</div>
                            </div>
                            <div class="gender-option" data-gender="female">
                                <div style="font-size: 32px;">♀</div>
                                <div>女生</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">生日</label>
                        <input type="date" class="form-input" id="birthday" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">學院</label>
                        <select class="form-select" id="college" required>
                            <option value="">選擇學院</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">系所</label>
                        <select class="form-select" id="department" required>
                            <option value="">請先選擇學院</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">年級</label>
                        <div class="grade-select">
                            <div class="grade-option" data-grade="大一">大一</div>
                            <div class="grade-option" data-grade="大二">大二</div>
                            <div class="grade-option" data-grade="大三">大三</div>
                            <div class="grade-option" data-grade="大四">大四</div>
                            <div class="grade-option" data-grade="碩一">碩一</div>
                            <div class="grade-option" data-grade="碩二">碩二</div>
                            <div class="grade-option" data-grade="博士班">博士</div>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">
                        下一步
                    </button>
                </form>
            </div>

            <!-- Step 4: Photos -->
            <div class="register-step" id="step4">
                <div class="step-icon">📸</div>
                <h2 class="step-title">上傳你的照片</h2>
                <p class="step-subtitle">步驟 2/3 (至少2張)</p>

                <div class="photo-upload">
                    <div class="photo-box" data-index="0">
                        <div class="photo-placeholder">+</div>
                    </div>
                    <div class="photo-box" data-index="1">
                        <div class="photo-placeholder">+</div>
                    </div>
                    <div class="photo-box" data-index="2">
                        <div class="photo-placeholder">+</div>
                    </div>
                    <div class="photo-box" data-index="3">
                        <div class="photo-placeholder">+</div>
                    </div>
                    <div class="photo-box" data-index="4">
                        <div class="photo-placeholder">+</div>
                    </div>
                    <div class="photo-box" data-index="5">
                        <div class="photo-placeholder">+</div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">個人簡介 (100字以內)</label>
                    <textarea class="input" id="bio" rows="4" placeholder="分享你的個性、興趣、或想對配對對象說的話..."></textarea>
                    <div class="text-right" style="font-size: var(--font-body-sm); color: var(--text-tertiary); margin-top: var(--space-xs);">
                        <span id="bioCount">0</span> / 100
                    </div>
                </div>

                <button class="btn btn-primary btn-block" onclick="goToStep(5)">
                    下一步
                </button>
            </div>

            <!-- Step 5: Interests -->
            <div class="register-step" id="step5">
                <div class="step-icon">🏷️</div>
                <h2 class="step-title">選擇你的興趣</h2>
                <p class="step-subtitle">步驟 3/3 (選擇3-10個)</p>

                <div class="selected-count">
                    已選擇: <strong id="interestCount">0</strong> / 10
                </div>

                <div class="interest-categories" id="interestCategories">
                    <!-- Will be dynamically filled -->
                </div>

                <button class="btn btn-primary btn-block" id="completeBtn" disabled>
                    完成註冊
                </button>
            </div>
        </div>
    </div>

    <script src="../js/config.js"></script>
    <script src="../js/utils.js"></script>
    <script src="../js/components.js"></script>
    <script src="../js/pages/register.js"></script>

</body>
</html>
